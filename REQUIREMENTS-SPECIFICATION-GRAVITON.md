# Примерное техническое задание на разработку фронтенда для умного ИИ поисковика компании "ООО Гравитон"

## 1. Общие сведения
- **Проект**: Фронтенд для умного ИИ поисковика товаров компании "ООО Гравитон"
- **Технологии**: Next.js, React, WebSocket
- **Базовый URL API**: `/api/v1.0` (согласно Swagger-документации)
- **Исходные данные**: Имеется стартовый проект Next.js и Swagger-документация API

## 2. Функциональные требования

### 2.1. Аутентификация и авторизация
- Реализовать систему регистрации (`/auth/signup`) и входа (`/auth/login`)
- Поддержка refresh-токенов (`/auth/refresh`)
- Хранение токенов в безопасном хранилище (HTTP-only cookies)
- Защищённые маршруты (проверка авторизации)

### 2.2. Работа с чатами (основной функционал)
- Создание нового чата (`POST /chats`)
- Просмотр списка чатов (`GET /chats`)
- Изменение названия чата (`PUT /chats/{id}`)
- Удаление чата (мягкое и полное) (`DELETE /chats/{id}`, `DELETE /chats/{id}/hard`)
- Архивация/восстановление чатов (`PUT /chats/{id}/archive`, `PUT /chats/{id}/unarchive`)
- Просмотр архивированных чатов (`GET /chats/archived`)

### 2.3. Работа с сообщениями
- Отправка сообщений через WebSocket (интеграция с `POST /chats/{chatId}/messages`)
- Получение истории сообщений с пагинацией (`GET /chats/{chatId}/messages`)
- Редактирование сообщений (`PATCH /messages/{messageId}`)
- Удаление сообщений (`DELETE /messages/{messageId}`)
- Поддержка разных типов сообщений (TEXT, файлы)

### 2.4. Профиль пользователя
- Просмотр профиля (`GET /user/profile`)
- (Опционально) Редактирование профиля (если endpoint будет добавлен)

### 2.5. Работа с файлами
- Загрузка файлов (`POST /files/upload`)
- Отображение загруженных файлов в сообщениях

### 2.6. Административный функционал (если роль ADMIN)
- Управление пользователями
- Блокировка/разблокировка
- Управление ролями и разрешениями

## 3. Нефункциональные требования

### 3.1. Технологии
- Next.js (имеющийся стартовый проект)
- React 18+
- TypeScript
- WebSocket для real-time обновлений
- Redux Toolkit или React Query для управления состоянием
- SCSS или CSS-модули для стилей
- Адаптивная вёрстка (mobile-first)

### 3.2. Производительность
- Оптимизация загрузки (lazy loading компонентов)
- Кэширование данных
- Минимизация перерисовок

### 3.3. Безопасность
- Защита от XSS
- Валидация всех входящих данных
- Защищённое хранение токенов

### 3.4. Тестирование
- Unit-тесты (Jest + React Testing Library)
- E2E-тесты (Cypress)

## 4. Интерфейс

### 4.1. Основные экраны
1. **Страница входа/регистрации**
2. **Список чатов** (с возможностью создания нового)
3. **Чат** (история сообщений + форма ввода)
4. **Настройки чата** (изменение названия, архивация, удаление)
5. **Профиль пользователя**
6. (Опционально) Административная панель

### 4.2. UI-кит
- Кнопки, инпуты, модальные окна
- Индикатор загрузки
- Уведомления об ошибках/успехе
- Аватар пользователя
- Элементы сообщений (текст, файлы)

## 5. Интеграция с бэкендом
- Использование предоставленного Swagger API
- Реализация WebSocket-подключения для real-time обновлений
- Мок-реализация API на время разработки (если бэкенд не готов)

## 6. Этапы разработки

1. **Настройка проекта**
   - Инициализация Next.js
   - Настройка роутинга
   - Подключение WebSocket

2. **Базовые компоненты**
   - Система аутентификации
   - Список чатов
   - Интерфейс чата

3. **Основной функционал**
   - Обмен сообщениями
   - Управление чатами
   - Работа с файлами

4. **Дополнительный функционал**
   - Профиль пользователя
   - Административная панель
   - Настройки

5. **Тестирование и оптимизация**
   - Написание тестов
   - Оптимизация производительности
   - Рефакторинг

## 7. Дополнительные требования
- Документация кода (JSDoc)
- Чистый и поддерживаемый код
- Следование принципам DRY, KISS, SOLID
- Использование eslint/prettier

## 8. Сроки и deliverables
- Поэтапная сдача функционала
- Weekly-отчёты о прогрессе
- Финалная сдача: полный фронтенд с документацией

## Приложения
1. Приблизительная Swagger-документация API.
2. Стартовый проект Next.js.